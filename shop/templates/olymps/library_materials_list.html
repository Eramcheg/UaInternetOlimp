{% extends "base.html" %}
{% block title %}–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ ‚Äî {{ library.title }}{% endblock %}

{% block content %}
<div class="px-4 sm:px-6 lg:px-8 sm:mx-[10%] lg:mx-[20%]">
  <h1 class="text-3xl font-bold text-center text-gray-900 mb-2 sm:mb-8">{{ library.title }}</h1>
  {% if library.title == "–ó–∞—Ä—É–±—ñ–∂–Ω–∞" %}
      <p class="text-center text-red-600 mb-1 sm:mb-8">–£–≤–∞–≥–∞. –î–µ—è–∫—ñ –∫–Ω–∏–≥–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω—ñ —Ä–æ—Å –º–æ–≤–æ—é - –º–æ–≤–æ—é –æ—Ä–∏–≥—ñ–Ω–∞–ª–∞. –ß–∏ –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ —ó—Ö —ñ –¥—ñ–∑–Ω–∞–≤–∞—Ç–∏—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∑ —Ñ—ñ–∑–∏–∫–∏, —è–∫–æ—é –∫–æ—Ä–∏—Å—Ç—É—î—Ç—å—Å—è –ø—Ä–æ—Ç–∏ –Ω–∞—Å –Ω–∞—à –≤–æ—Ä–æ–≥, - —Ü–µ –≤–∞—à –≤–ª–∞—Å–Ω–∏–π –≤–∏–±—ñ—Ä!</p>
      <p class="text-center text-gray-600 font-italic mb-6 sm:mb-8">–ú–∏ –±—É–¥–µ–º–æ –≤–¥—è—á–Ω—ñ, —è–∫—â–æ —É –∫–æ–≥–æ—Å—å –≤–∂–µ —î –ø–µ—Ä–µ–∫–ª–∞–¥ —è–∫–∏—Ö–æ—Å—å –∑ —Ü–∏—Ö –∫–Ω–∏–≥ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é i –≤i–Ω –ø–æ–¥—ñ–ª–∏—Ç—å—Å—è —ó–º –∑ –Ω–∞–º–∏, –∞–±–æ –¥–æ–ø–æ–º–æ–∂–µ –Ω–∞–º —ó—Ö –ø–µ—Ä–µ–∫–ª–∞—Å—Ç–∏, –±–æ —Ü–µ –ø–æ—Ç—Ä–µ–±—É—î –∑–Ω–∞—á–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç —á–∞—Å—É.</p>

  {% endif %}
  {% if materials %}
    <div class="space-y-3">
      {% for m in materials %}
        <div class="flex items-center justify-between bg-white border border-gray-200 rounded-lg p-3">
          <!-- –°–ª–µ–≤–∞: —Ñ–∞–π–ª -->
          <div class="truncate text-left w-full ml-4">
            <span class="font-medium text-gray-900 truncate" title="{{ m.title }}">{{ m.title }}</span>
          </div>
          <div class="shrink-0">
              {% if m.file  %}
                <a href="{{ m.file.url }}" target="_blank" rel="noopener"
                   class="inline-flex items-center rounded-md border border-gray-300 px-3 py-1.5 text-sm hover:bg-gray-100">
                  üìÑ –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª
                </a>
              {% elif m.external_url  %}
                  <a href="{{ m.external_url }}" target="_blank" rel="noopener"
                   class="inline-flex items-center rounded-md border border-gray-300 px-3 py-1.5 text-sm hover:bg-gray-100">
                  üìÑ –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª
                </a>
              {% else %}
                <span class="text-sm text-gray-400">üìÑ —Ñ–∞–π–ª –≤—ñ–¥—Å—É—Ç–Ω—ñ–π</span>
              {% endif %}
            </div>

          <!-- –°–ø—Ä–∞–≤–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ -->

        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-gray-600">–ù–µ–º–∞—î –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤.</p>
  {% endif %}

  {% if is_paginated %}
    <nav class="mt-6 flex items-center justify-center gap-6 text-sm">
      {% if page_obj.has_previous %}
        <a class="text-indigo-700 hover:text-indigo-900"
           href="?page={{ page_obj.previous_page_number }}">‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—è</a>
      {% else %}
        <span class="text-gray-300">‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—è</span>
      {% endif %}

      <span class="text-gray-700">–°—Ç–æ—Ä. {{ page_obj.number }} / {{ page_obj.paginator.num_pages }}</span>

      {% if page_obj.has_next %}
        <a class="text-indigo-700 hover:text-indigo-900"
           href="?page={{ page_obj.next_page_number }}">–ù–∞—Å—Ç—É–ø–Ω–∞ ‚Üí</a>
      {% else %}
        <span class="text-gray-300">–ù–∞—Å—Ç—É–ø–Ω–∞ ‚Üí</span>
      {% endif %}
    </nav>
  {% endif %}
</div>
{% endblock %}
